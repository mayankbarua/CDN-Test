!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e,t){this.utilitySrvc=e,this.stackTraceSrvc=t}n.r(t),r.$inject=["nb.framework.utilitySrvc","nb.framework.stackTraceSrvc"];var a=n(2),i=n.n(a),o=n(0),u=n.n(o),c=n(1),s=n.n(c),l=function(){function e(){u()(this,e)}return s()(e,null,[{key:"isValiDate",value:function(e,t){if(!e)return!1;if(t||(t="yyyy-MM-dd"),e.length!==t.length)return!1;if("yyyy-MM-dd"===t||"YYYY-MM-DD"===t){return/^(((((([02468][048])|([13579][26]))(00))|(\d{2}(([02468][48])|([13579][26]))))\-((((0[13578])|(1[02]))\-(([0-2][0-9])|(3[01])))|(((0[469])|(11))\-(([0-2][0-9])|(30)))|(02\-([0-2][0-9]))))|(\d{2}(([02468][1235679])|([13579][01345789]))\-((((0[13578])|(1[02]))\-(([0-2][0-9])|(3[01])))|(((0[469])|(11))\-(([0-2][0-9])|(30)))|(02\-(([0-1][0-9])|(2[0-8]))))))$/.test(e)}if("yyyy/MM/dd"===t||"YYYY/MM/DD"===t){return/^(((((([02468][048])|([13579][26]))(00))|(\d{2}(([02468][48])|([13579][26]))))\/((((0[13578])|(1[02]))\/(([0-2][0-9])|(3[01])))|(((0[469])|(11))\/(([0-2][0-9])|(30)))|(02\/([0-2][0-9]))))|(\d{2}(([02468][1235679])|([13579][01345789]))\/((((0[13578])|(1[02]))\/(([0-2][0-9])|(3[01])))|(((0[469])|(11))\/(([0-2][0-9])|(30)))|(02\/(([0-1][0-9])|(2[0-8]))))))$/.test(e)}if("MM-dd-yyyy"===t||"MM-DD-YYYY"===t){return/^((((((0[13578])|(1[02]))\-(([0-2][0-9])|(3[01])))|(((0[469])|(11))\-(([0-2][0-9])|(30)))|(02\-([0-2][0-9])))\-(((([02468][048])|([13579][26]))(00))|(\d{2}(([02468][48])|([13579][26])))))|(((((0[13578])|(1[02]))\-(([0-2][0-9])|(3[01])))|(((0[469])|(11))\-(([0-2][0-9])|(30)))|(02\-(([0-1][0-9])|(2[0-8])))))\-\d{2}(([02468][1235679])|([13579][01345789])))$/.test(e)}if("MM/dd/yyyy"===t||"MM/DD/YYYY"===t){return/^((((((0[13578])|(1[02]))\/(([0-2][0-9])|(3[01])))|(((0[469])|(11))\/(([0-2][0-9])|(30)))|(02\/([0-2][0-9])))\/(((([02468][048])|([13579][26]))(00))|(\d{2}(([02468][48])|([13579][26])))))|(((((0[13578])|(1[02]))\/(([0-2][0-9])|(3[01])))|(((0[469])|(11))\/(([0-2][0-9])|(30)))|(02\/(([0-1][0-9])|(2[0-8])))))\/\d{2}(([02468][1235679])|([13579][01345789])))$/.test(e)}return!1}},{key:"isValiDateStr",value:function(e){if(!e)return!1;var t=new Date(e);return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}},{key:"isValiTime",value:function(e,t){if(!e)return!1;if(t||(t="hh:mm:ss"),e.length!==t.length)return!1;if("hh:mm:ss"===t){return/^(([0-1][0-9])|(2[0-3]))\:([0-5][0-9])\:([0-5][0-9])$/.test(e)}if("hh-mm-ss"===t){return/^(([0-1][0-9])|(2[0-3]))\-([0-5][0-9])\-([0-5][0-9])$/.test(e)}if("hh/mm/ss"===t){return/^(([0-1][0-9])|(2[0-3]))\/([0-5][0-9])\/([0-5][0-9])$/.test(e)}return!1}},{key:"isValiDateTime",value:function(e){return/^(((((([02468][048])|([13579][26]))(00))|(\d{2}(([02468][48])|([13579][26]))))\-((((0[13578])|(1[02]))\-(([0-2][0-9])|(3[01])))|(((0[469])|(11))\-(([0-2][0-9])|(30)))|(02\-([0-2][0-9]))))|(\d{2}(([02468][1235679])|([13579][01345789]))\-((((0[13578])|(1[02]))\-(([0-2][0-9])|(3[01])))|(((0[469])|(11))\-(([0-2][0-9])|(30)))|(02\-(([0-1][0-9])|(2[0-8]))))))(\s{1}(([0-1][0-9])|(2[0-3]))\:([0-5][0-9])\:([0-5][0-9]))?$/.test(e)}},{key:"stringToDate",value:function(t){return t?e.isValiDate(t,"yyyy/MM/dd")||e.isValiDate(t,"MM/dd/yyyy")||e.isValiDateStr(t)?new Date(Date.parse(t)):-[1]?e.isValiDate(t,"yyyy-MM-dd")?new Date(Date.parse(t)):null:e.isValiDate(t,"MM-dd-yyyy")?new Date(Date.parse(t)):null:null}},{key:"daysBetween",value:function(e,t){return e instanceof Date&&t instanceof Date?Math.abs(Math.floor((e.getTime()-t.getTime())/1e3/60/60/24)):0}},{key:"isLeapYear",value:function(e){return e.getYear()%4==0&&(e.getYear()%100!=0||e.getYear()%400==0)}},{key:"format",value:function(t,n,r){var a=t;if("string"==typeof a&&(t=e.stringToDate(a)),null==t||void 0===t||!(t instanceof Date))return a;var i=n;n||(i="yyyy-MM-dd hh:mm:ss tt");i=(i=(i=(i=(i=(i=(i=i.replace(/yyyy|YYYY/,t.getFullYear())).replace(/yy|YY/,t.getYear()%100>9?(t.getYear()%100).toString():"0"+t.getYear()%100)).replace(/MM/,t.getMonth()>=9?(parseInt(t.getMonth())+1).toString():"0"+(parseInt(t.getMonth())+1))).replace(/M/g,parseInt(t.getMonth())+1)).replace(/w|W/g,["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."][t.getDay()])).replace(/dd|DD/,t.getDate()>9?t.getDate().toString():"0"+t.getDate())).replace(/d|D/g,t.getDate());var o=t.getHours()>12?t.getHours()-12:t.getHours();return r&&(o=t.getHours()),i=(i=(i=(i=(i=(i=(i=(i=i.replace(/hh|HH/,o>9?o.toString():"0"+o)).replace(/h|H/g,o)).replace(/mm/,t.getMinutes()>9?t.getMinutes().toString():"0"+t.getMinutes())).replace(/m/g,t.getMinutes())).replace(/ss|SS/,t.getSeconds()>9?t.getSeconds().toString():"0"+t.getSeconds())).replace(/s|S/g,t.getSeconds())).replace(/iii/g,t.getMilliseconds()<10?"00"+t.getMilliseconds():t.getMilliseconds()<100?"0"+t.getMilliseconds():t.getMilliseconds())).replace(/tt/,t.getHours()>=12?"PM":"AM")}},{key:"dateAdd",value:function(e,t,n){if(!t||isNaN(t)||0===parseInt(t))return e;switch(n||(n="d"),n){case"Y":case"y":return new Date(e.getFullYear()+t,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"Q":case"q":return new Date(e.getFullYear(),e.getMonth()+3*t,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"M":return new Date(e.getFullYear(),e.getMonth()+t,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"W":case"w":return new Date(Date.parse(e)+6048e5*t);case"D":case"d":return new Date(Date.parse(e)+864e5*t);case"H":case"h":return new Date(Date.parse(e)+36e5*t);case"m":return new Date(Date.parse(e)+6e4*t);case"S":case"s":return new Date(Date.parse(e)+1e3*t);default:return e}}},{key:"dateDiff",value:function(e,t,n){var r=e;if(!(t instanceof Date))return 0;switch(n||(n="d"),n){case"Y":case"y":return t.getFullYear()-r.getFullYear();case"M":return t.getMonth()+1+12*(t.getFullYear()-r.getFullYear())-(r.getMonth()+1);case"W":case"w":return parseInt((t-r)/6048e5);case"D":case"d":return parseInt((t-r)/864e5);case"H":case"h":return parseInt((t-r)/36e5);case"m":return parseInt((t-r)/6e4);case"S":case"s":return parseInt((t-r)/1e3);default:return 0}}},{key:"toArray",value:function(e){var t=[];return t[0]=e.getFullYear(),t[1]=e.getMonth(),t[2]=e.getDate(),t[3]=e.getHours(),t[4]=e.getMinutes(),t[5]=e.getSeconds(),t}},{key:"datePart",value:function(e,t){t||(t="d");switch(t){case"Y":case"y":return e.getFullYear();case"M":return e.getMonth()+1;case"W":case"w":return["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."][e.getDay()];case"D":case"d":return e.getDate();case"H":case"h":return e.getHours();case"m":return e.getMinutes();case"s":return e.getSeconds();default:return e.getDate()}}},{key:"dateObjToUtcString",value:function(e){if(null==e||null==e||!(e instanceof Date))return null;var t=e.getUTCFullYear().toString(),n=(e.getUTCMonth()+1).toString(),r=e.getUTCDate().toString();1==n.length&&(n="0"+n),1==r.length&&(r="0"+r);var a=e.getUTCHours().toString();1==a.length&&(a="0"+a);var i=e.getUTCMinutes().toString();return 1==i.length&&(i="0"+i),t+"-"+n+"-"+r+"T"+a+":"+i+":00Z"}},{key:"dateWholeObjToUtcString",value:function(e){if(null==e||null==e||!(e instanceof Date))return null;var t=e.getUTCFullYear().toString(),n=(e.getUTCMonth()+1).toString(),r=e.getUTCDate().toString();1==n.length&&(n="0"+n),1==r.length&&(r="0"+r);var a=e.getUTCHours().toString();1==a.length&&(a="0"+a);var i=e.getUTCMinutes().toString();1==i.length&&(i="0"+i);var o=e.getUTCSeconds().toString();return 1==o.length&&(o="0"+o),t+"-"+n+"-"+r+"T"+a+":"+i+":"+o+"Z"}}]),e}(),f=n(3),g=n.n(f),d=function(){function e(){u()(this,e)}return s()(e,null,[{key:"getLocalString",value:function(){return new Date(Date.now()).toLocaleString()}},{key:"getLocalDateString",value:function(){return new Date(Date.now()).toLocaleDateString()}},{key:"getLocalTimeString",value:function(){return Date.now.toLocaleTimeString()}},{key:"compareTwoTimeString",value:function(e,t){return new Date(e)>new Date(t)}},{key:"equals",value:function(e,t){var n=new Date(e),r=new Date(t);return n.getTime()===r.getTime()}},{key:"formatDateTime",value:function(e){return e.toLocaleString()}},{key:"formatTime",value:function(e){return e.toLocaleTimeString()}},{key:"formatDate",value:function(e){return e.toLocaleDateString()}},{key:"format",value:function(e,t){return DateUtil.format(e,t)}},{key:"getDiffTwoTimeString",value:function(t,n){var r=new Date(t),a=new Date(n),i=r.getTime()-a.getTime(),o=Math.floor(i/864e5);if(o>=1)return{num:o,unit:e.UNITSTR.DAY+(1===o?"":"s")};var u=Math.floor(i/36e5);if(u>=1)return{num:u,unit:e.UNITSTR.HOUR+(1===u?"":"s")};var c=Math.floor(i/6e4);return 0===c&&(c=1),c>=1?{num:c,unit:e.UNITSTR.MINUTE+(1===c?"":"s")}:void 0}},{key:"getDateDiff",value:function(e,t){var n=new Date(t),r=new Date(e).getTime()-n.getTime();return Math.floor(r/864e5)}},{key:"getElapsedTimeStringUntilNow",value:function(t){var n=e.getDiffTwoTimeString(Date.now(),t);return n?_.values(n).join(" "):""}},{key:"toISOString",value:function(e){return e.toISOString()}}]),e}();g()(d,"UNITSTR",{DAY:"day",HOUR:"hour",MINUTE:"minute",SECOND:"second",MILLISECOND:"millisecond"});var p=function(){function e(){u()(this,e)}return s()(e,null,[{key:"format",value:function(e,t){var n=e;if(!n||void 0===t)return n;if("object"===i()(t)){for(var r in t)t.hasOwnProperty(r)&&(n=n.replace(new RegExp("{"+r+"}","g"),t[r]));return n}var a=arguments,o=new RegExp("{([0-"+(a.length-1)+"])}","g");return n.replace(o,(function(e,t){return a[t+1]}))}},{key:"trim",value:function(e){return e.replace(/^\s+|\s+$/g,"")}},{key:"trimLeft",value:function(e){return e.replace(/^s+/g,"")}},{key:"trimRight",value:function(e){return e.replace(/s+$/g,"")}},{key:"startsWith",value:function(e,t){return!(null==t||""===t||0===e.length||t.length>e.length)&&e.substr(0,t.length)===t}},{key:"endsWith",value:function(e,t){return!(null==t||""===t||0===e.length||t.length>e.length)&&e.substring(e.length-t.length)===t}},{key:"contains",value:function(e,t){return-1!==e.indexOf(t)}},{key:"left",value:function(e,t){return e.slice(0,t)}},{key:"right",value:function(e,t){return e.slice(e.length-t)}},{key:"reverse",value:function(e){return e.split("").reverse().join("")}},{key:"toCharArray",value:function(e){return e.split("")}},{key:"isNumeric",value:function(e){var t=parseFloat(e);if(isNaN(t))return!1;var n=e.length-t.toString().length;return t+"0".Repeat(n)===e}},{key:"isInt",value:function(e){return"NaN"!==e&&this===parseInt(e).toString()}},{key:"resetBlank",value:function(e){return e.replace(/s+/g," ")}},{key:"getRealLength",value:function(e){return e.replace(/[^x00-xff]/g,"--").length}},{key:"getNum",value:function(e){return e.replace(/[^d]/g,"")}},{key:"getEn",value:function(e){return e.replace(/[^A-Za-z]/g,"")}},{key:"getCn",value:function(e){return e.replace(/[^u4e00-u9fa5uf900-ufa2d]/g,"")}},{key:"ascW",value:function(e){for(var t="",n=0;n<e.length;n++)t+="&#"+e.charCodeAt(n)+";";return t}},{key:"HTMLEncode",value:function(e){for(var t=e,n=[/x26/g,/x3C/g,/x3E/g,/x20/g],r=["&","<",">"," "],a=0;a<n.length;a++)t=t.replace(n[a],r[a]);return t}}]),e}();function v(e){var t,n,r=this;return n={delay:1e3},e&&$.extend(n,e),$((function(){t=setTimeout(a,n.delay)})),this;function a(){i(r),t&&clearTimeout(t)}function i(e){e.each((function(e,t){!function(e){var t=e.attr("load"),n=e.attr("src");t&&"true"===t.toLowerCase()&&$.ajax({url:n,dataType:"script",cache:!0}).done((function(){i(e.children())})).fail((function(){console.error("Failed to load: ",n)}))}($(t))}))}}var y;(y=window.NetBrain||{}).ns=function(e){var t,n,r;if(!e||!e.length)return null;for(t=e.split("."),n=y,r="NetBrain"===t[0]?1:0;r<t.length;r+=1)n[t[r]]=n[t[r]]||{},n=n[t[r]];return n},y.Page={},window.NetBrain=y,angular.module("nb.framework",[]).run((function(){var e=navigator.userAgent;window.browser=window.browser||{},browser.isOpera=e.indexOf("Opera")>-1,browser.isIE=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!browser.isOpera,browser.isEdge=e.indexOf("Edge")>-1,browser.isFF=e.indexOf("Firefox")>-1,browser.isSafari=e.indexOf("Safari")>-1&&-1===e.indexOf("Chrome"),browser.isChrome=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1})).run((function(){var e={isIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(n>0){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)},getGUID:function(){return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},isGUID:function(e){var t=!1;return e&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)&&(t=!0),t},replacer:function(e,t){return"number"!=typeof t||isFinite(t)?t:String(t)},cloneJson:function(t){var n;if(null==t||"object"!=i()(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var r=0,a=t.length;r<a;r++)n[r]=e.cloneJson(t[r]);return n}if(t instanceof Object){for(var o in n={},t)t.hasOwnProperty(o)&&(n[o]=e.cloneJson(t[o]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},cloneObject:function(t){if((t=t&&t instanceof Object?t:"")instanceof Date)return new Date(t);if(t instanceof Array)return t.slice();if(t instanceof Object){var n=new t.constructor;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]instanceof Object?e.cloneObject(t[r]):t[r]);return n}throw new Error("Unable to copy obj! Its type isn't supported.")},isIpOrIpMask:function(e){if("string"!=typeof e)return!1;return e.match(/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)(\/([1-2]\d|3[0-2]|[89]))?$/)},maskIntToIp:function(e){return((e=4294967295<<32-(e=parseInt(e)))>>>24)+"."+(e>>16&255)+"."+(e>>8&255)+"."+(255&e)},isEqualIPAddress:function(e,t,n){if(!e||!t||!n)return!1;var r=[],a=[];e=e.split("."),t=t.split("."),n=n.split(".");for(var i=0,o=e.length;i<o;i+=1)r.push(parseInt(e[i])&parseInt(n[i])),a.push(parseInt(t[i])&parseInt(n[i]));return r.join(".")==a.join(".")},isValidRegular:function(e){try{return new RegExp(e),!0}catch(e){return!1}},hasProp:function(e,t){if(!e||_.isUndefined(t))return!1;for(var n=t.split("."),r=n.length,a=0;a<r;a++){if(t=n[a],!_.has(e,t))return!1;e=e[t]}return!0},getProp:function(e,t){if(!e||_.isUndefined(t))return null;for(var n=t.split("."),r=n.length,a=e,i=0;i<r;i++){if(t=n[i],_.isUndefined(a[t])){a=null;break}a=a[t]}return a},mapFlatJsonToArray:function(e){var t=[];if(_.has(e,"Keys")&&_.has(e,"Values")){var n=e.Keys,r=n.length;t=_.map(e.Values,(function(e){for(var t={},a=0;a<r;a++)t[n[a]]=e[a];return t}))}return t},setCursorPosition:function(e,t){setTimeout((function(){var n=e.value.length;if((void 0===t||n<t||t<=0)&&(t=n),e.focus(),e.setSelectionRange)e.setSelectionRange(t,t);else{var r=e.createTextRange();r.moveStart("character",-n),r.moveEnd("character",-n),r.moveStart("character",t),r.moveEnd("character",0),r.select()}}),10)},obsolete:function(e){if(!e){var t=arguments.caller?t:"";e=t}n(["Obsolete Warning:",e].join(" "),(function(){console.trace()}))}};e.consoleGroup=n,e.CompareName=function(){this.splitReg=/(\d+)|(\D+)/g,this.splitName=function(e){var t=[];return(e||"").replace(this.splitReg,(function(e,n,r){t.push([n||1/0,r||""])})),t},this.compare=function(e,t){for(var n=this.splitName(e),r=this.splitName(t);n.length&&r.length;){var a=n.shift(),i=r.shift(),o=a[0]-i[0],u=(o=o===1/0?void 0:o)||a[1].localeCompare(i[1]);if(u)return u}return n.length-r.length},this.sort=function(e,t,n){var r=this;if(!_.isEmpty(e)){n=n||function(e){return e};var a=this.classifyStringArr(e);t=t||!1,a.invalidArr.sort(),a.validArr.sort((function(e,a){return t?-1*r.compare(n(e),n(a)):r.compare(n(e),n(a))}));var i=[];i=t?a.validArr.concat(a.emptyStrArr,a.invalidArr):a.invalidArr.concat(a.emptyStrArr,a.validArr),e.splice(0,e.length),_.forEach(i,(function(t){e.push(t)}))}},this.classifyStringArr=function(e){for(var t={invalidArr:[],emptyStrArr:[],validArr:[]},n=e.length,r=0;r<n;++r){var a=e[r];""===a?t.emptyStrArr.push(a):e[r]?t.validArr.push(a):t.invalidArr.push(a)}return t}},e.bytesToHuman=function(e,t){var n=" ",r=".";if(t&&(n="",r=1.5.toFixed(1).substring(1,2)),"number"==typeof e&&!isNaN(e)||(e=parseFloat(e)),0===e)return"0"+n+"B";var a=Math.floor(Math.log(e)/Math.log(1024)),i=(e/Math.pow(1024,a)).toFixed(1)+n+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][a];return t&&(i=i.replace(r+"0","")),i};var t=[{en:"&",de:"&amp;"},{en:"<",de:"&lt;"},{en:">",de:"&gt;"},{en:" ",de:"&nbsp;"},{en:"'",de:"&#39;"},{en:'"',de:"&quot;"}];function n(e,t){console.group(e),t(),console.groupEnd(e)}e.htmlEncodeByRegExp=function(e,n){return(e=String(e))&&e.length?(_.each(n||["&","<",">"],(function(n){var r=_.find(t,(function(e){return n===e.en}));r&&(e=e.replace(new RegExp(r.en,"g"),r.de))})),e):""},e.htmlDecodeByRegExp=function(e,n){return(e=String(e))&&e.length?(_.each(n||["&lt;","&gt;","&amp"],(function(n){var r=_.find(t,(function(e){return n===e.de}));r&&(e=e.replace(new RegExp(r.de,"g"),r.en))})),e):""},e.protocolCheck=function(e,t,n,r){function a(e,t,n){return e.addEventListener?(e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}):(e.attachEvent(t,n),{remove:function(){e.detachEvent(t,n)}})}function i(e,t){var n=document.createElement("iframe");return n.src=t,n.id="hiddenIframe",n.style.display="none",e.appendChild(n),n}function o(e,t,n){var r=setTimeout((function(){t(),u.remove()}),1e3),o=document.querySelector("#hiddenIframe");o||(o=i(document.body,"about:blank"));var u=a(window,"blur",(function(){clearTimeout(r),u.remove(),n()}));o.contentWindow.location.href=e}function u(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"===navigator.appName){t=navigator.userAgent;null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}function c(){t&&t()}function s(){n&&n()}if(navigator.msLaunchUri)!function(e,t,n){navigator.msLaunchUri(e,n,t)}(e,t,n);else{var l=(f=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,g=navigator.userAgent.toLowerCase(),{isOpera:f,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:~g.indexOf("safari")&&!~g.indexOf("chrome")||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,isChrome:!!window.chrome&&!f,isIE:!!document.documentMode});l.isFirefox?function(e,t,n){var r=document.querySelector("#hiddenIframe");r||(r=i(document.body,"about:blank"));try{r.contentWindow.location.href=e,n()}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"===e.name&&t()}}(e,c,s):l.isChrome||l.isIOS?function(e,t,n){for(var r=setTimeout((function(){t(),o.remove()}),1e3),i=window;i!==i.parent;)i=i.parent;var o=a(i,"blur",(function(){clearTimeout(r),o.remove(),n()}));window.location=e}(e,c,s):l.isIE?function(e,t,n){10===u()?function(e,t,n){var r=setTimeout(t,1e3);window.addEventListener("blur",(function(){clearTimeout(r),n()}));var a=document.querySelector("#hiddenIframe");a||(a=i(document.body,"about:blank"));try{a.contentWindow.location.href=e}catch(e){t(),clearTimeout(r)}}(e,t,n):9===u()||11===u()?o(e,t,n):function(e,t,n){var r=window.open("","","width=0,height=0");r.document.write("<iframe src='"+e+"'></iframe>"),setTimeout((function(){try{r.location.href,r.setTimeout("window.close()",1e3),n()}catch(e){r.close(),t()}}),1e3)}(e,t,n)}(e,c,s):l.isSafari?o(e,c,s):r()}var f,g},window.Utility=window.Utility||e})).run((function(){window.DateUtil=window.DateUtil||l})).run((function(){window.TimeUtil=window.TimeUtil||d})).run((function(){window.StringUtil=window.StringUtil||p})).run((function(){void 0===FileReader||FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t="",n=this,r=new FileReader,a=0;r.onload=function(e){var i=new Uint8Array(r.result),o=i.byteLength;for(a=0;a<o;a+=1)t+=String.fromCharCode(i[a]);n.content=t,$(n).trigger("onload")},r.readAsArrayBuffer(e)}),Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t})})).run((function(){window.$.fn.lazyload=v})).service("nb.framework.stackTraceSrvc",(function(){return{getErrorStack:window.printStackTrace}})).service("nb.framework",r)}]);